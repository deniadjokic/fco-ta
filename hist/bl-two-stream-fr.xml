<!-- uox source, 8 LWR, reprocess, mox reactor, sinks -->

<simulation>
  <control>
    <duration>800</duration>
    <startmonth>1</startmonth>
    <startyear>2000</startyear>
  </control>

  <archetypes>
    <spec><lib>agents</lib><name>Source</name></spec>
    <spec><lib>Brightlite</lib><name>ReactorFacility</name></spec>
    <spec><lib>Brightlite</lib><name>FuelfabFacility</name></spec>
    <spec><lib>Brightlite</lib><name>ReprocessFacility</name></spec>
    <spec><lib>agents</lib><name>Sink</name></spec>
    <spec><lib>agents</lib><name>NullRegion</name></spec>
    <spec><lib>cycamore</lib><name>DeployInst</name></spec>
  </archetypes>

  <facility>
    <name>Source</name>
    <config>
      <Source>
        <commod>fbl</commod>
        <recipe_name>U235</recipe_name>
	<capacity>100.0</capacity>
      </Source>
    </config>
  </facility>

  <facility>
    <name>Source1</name>
    <config>
      <Source>
        <commod>fbl1</commod>
        <recipe_name>U238</recipe_name>
	    <capacity>4450.0</capacity>
      </Source>
    </config>
  </facility>  

  <facility>
    <name>Source2</name>
    <config>
      <Source>
        <commod>NU</commod>
        <recipe_name>NU_recipe</recipe_name>
	    <capacity>100.0</capacity>
      </Source>
    </config>
  </facility>  
  
  <facility>
    <name>Sink2</name>
    <config>
      <Sink>
        <in_commods>
          <val>reproFuel1</val>
        </in_commods>
        <capacity>1000000.0</capacity>
      </Sink>
    </config>
  </facility>
  
  <facility>
    <name>Sink3</name>
    <config>
      <Sink>
        <in_commods>
          <val>spentFF</val>
        </in_commods>
        <capacity>1000000.0</capacity>
      </Sink>
    </config>
  </facility>

  <facility>
    <name>Rx1</name>
    <config>
      <ReactorFacility>
        <in_commods>
            <val>fuel</val>
        </in_commods>
        <out_commod>spentFuel</out_commod>
        <libraries><val>extLWR</val></libraries>
        <target_burnup>35.0</target_burnup>
        <nonleakage>0.966</nonleakage>
        <core_mass>1500.0</core_mass>
        <batches>3</batches>
        <flux_mode>1</flux_mode>
        <cylindrical_delta>10</cylindrical_delta>
        <burnupcalc_timestep>40</burnupcalc_timestep>
        <trans_created>
            <val>922350</val>
            <val>942380</val>
            <val>942390</val>
            <val>942400</val>
            <val>942410</val>
            <val>942420</val>
        </trans_created>
        <trans_fission>
            <val>922350</val>
            <val>942380</val>
            <val>942390</val>
            <val>942400</val>
            <val>942410</val>
            <val>942420</val>
        </trans_fission>
        <CR_terminal>0</CR_terminal>
      </ReactorFacility>
    </config>
  </facility>

  <facility>
    <name>Rx2</name>
    <config>
      <ReactorFacility>
        <in_commods>
            <val>fuel</val>
        </in_commods>
        <out_commod>spentFuel</out_commod>
        <libraries><val>standLWR</val></libraries>
        <target_burnup>40.0</target_burnup>
        <nonleakage>0.948</nonleakage>
        <core_mass>1500.0</core_mass>
        <batches>3</batches>
        <flux_mode>1</flux_mode>
        <cylindrical_delta>10</cylindrical_delta>
        <burnupcalc_timestep>40</burnupcalc_timestep>
        <trans_created>
            <val>922350</val>
            <val>942380</val>
            <val>942390</val>
            <val>942400</val>
            <val>942410</val>
            <val>942420</val>
        </trans_created>
        <trans_fission>
            <val>922350</val>
            <val>942380</val>
            <val>942390</val>
            <val>942400</val>
            <val>942410</val>
            <val>942420</val>
        </trans_fission>
        <CR_terminal>0</CR_terminal>
      </ReactorFacility>
    </config>
  </facility>
  
  
  <facility>
    <name>Rx3</name>
    <config>
      <ReactorFacility>
        <in_commods>
            <val>fuel</val>
        </in_commods>
        <out_commod>spentFuel</out_commod>
        <libraries><val>extLWR</val></libraries>
        <target_burnup>45.0</target_burnup>
        <nonleakage>0.966</nonleakage>
        <core_mass>1500.0</core_mass>
        <batches>4</batches>
        <flux_mode>1</flux_mode>
        <cylindrical_delta>10</cylindrical_delta>
        <burnupcalc_timestep>40</burnupcalc_timestep>
        <trans_created>
            <val>922350</val>
            <val>942380</val>
            <val>942390</val>
            <val>942400</val>
            <val>942410</val>
            <val>942420</val>
        </trans_created>
        <trans_fission>
            <val>922350</val>
            <val>942380</val>
            <val>942390</val>
            <val>942400</val>
            <val>942410</val>
            <val>942420</val>
        </trans_fission>
        <CR_terminal>0</CR_terminal>
      </ReactorFacility>
    </config>
  </facility>

  <facility>
    <name>FFUOX</name>
    <config>
      <FuelfabFacility>
        <in_commods>
            <val>fbl</val>
	    <val>fbl1</val>
        </in_commods>
        <out_commod>fuel</out_commod>
      </FuelfabFacility>
    </config>
  </facility>  
  
  <facility>
    <name>Repro</name>
    <config>
      <ReprocessFacility>
        <in_commod>
            <val>spentFuel</val>
        </in_commod>
        <commod_out>
            <val>reproFuel0</val>
            <val>reproFuel1</val>       
        </commod_out>
        <repro_input_path>../Bright-lite/input/reprocess_input.txt</repro_input_path>
        <input_capacity>1000000</input_capacity>
        <output_capacity>1000000</output_capacity>
      </ReprocessFacility>
    </config>
  </facility> 
  
  <facility>
    <name>FFMOX</name>
    <config>
      <FuelfabFacility>
        <in_commods>
            <val>reproFuel0</val>
	    <val>NU</val>
        </in_commods>
        <out_commod>FFfuel</out_commod>
      </FuelfabFacility>
    </config>
  </facility>    

  <facility>
    <name>RxFR</name>
    <config>
      <ReactorFacility>
        <in_commods>
            <val>FFfuel</val>       
        </in_commods>
        <out_commod>spentFF</out_commod>
        <libraries><val>FR50</val></libraries>
        <target_burnup>185.0</target_burnup>
        <nonleakage>0.57</nonleakage>
        <core_mass>300.0</core_mass>
    	<interpol_pairs>
           <key>BURNUP</key>
	       <val>185</val>
        </interpol_pairs>
        <batches>6</batches>
        <flux_mode>2</flux_mode>
        <cylindrical_delta>10</cylindrical_delta>
        <burnupcalc_timestep>40</burnupcalc_timestep>
        <trans_created>
            <val>922350</val>
            <val>942380</val>
            <val>942390</val>
            <val>942400</val>
            <val>942410</val>
            <val>942420</val>
        </trans_created>
        <trans_fission>
            <val>922350</val>
            <val>942380</val>
            <val>942390</val>
            <val>942400</val>
            <val>942410</val>
            <val>942420</val>
        </trans_fission>
        <CR_terminal>1</CR_terminal>
      </ReactorFacility>
    </config>
  </facility>

  <region>
    <name>SingleRegion</name>
    <config> <NullRegion/> </config>
    <institution>
      <name>SingleInstitution</name>
      <initialfacilitylist>
        <entry>
          <prototype>Source</prototype>
          <number>1</number>
        </entry>
        <entry>
          <prototype>Source1</prototype>
          <number>1</number>
        </entry>
        <entry>
          <prototype>Source2</prototype>
          <number>1</number>
        </entry>
        <entry>
          <prototype>Rx1</prototype>
          <number>2</number>
        </entry>
        <entry>
          <prototype>FFUOX</prototype>
          <number>1</number>
        </entry>
        <entry>
          <prototype>Sink2</prototype>
          <number>1</number>
        </entry>
        <entry>
          <prototype>Sink3</prototype>
          <number>1</number>
        </entry>
        <entry>
          <prototype>Repro</prototype>
          <number>1</number>
        </entry>
      </initialfacilitylist>
      <config> 
    <DeployInst>
       <buildorder>
         <prototype>RxFR</prototype>
             <number>1</number>
             <date>200</date>
       </buildorder>
       <buildorder>
         <prototype>Rx2</prototype>
             <number>2</number>
             <date>60</date>
       </buildorder>
       <buildorder>
         <prototype>Rx3</prototype>
             <number>2</number>
             <date>120</date>
       </buildorder>
       <buildorder>
         <prototype>FFMOX</prototype>
             <number>1</number>
             <date>8</date>
       </buildorder>
    </DeployInst>
      </config>
    </institution>
  </region>

  <recipe>
    <name>U235</name>
    <basis>mass</basis>
    <nuclide>
      <id>922350000</id>
      <comp>100</comp>
    </nuclide>
  </recipe>

  <recipe>
    <name>U238</name>
    <basis>mass</basis>
    <nuclide>
      <id>922380000</id>
      <comp>100</comp>
    </nuclide>
  </recipe>
  
  <recipe>
    <name>NU_recipe</name>
    <basis>mass</basis>
    <nuclide>
      <id>922380000</id>
      <comp>99.289</comp>
    </nuclide>
    <nuclide>
      <id>922350000</id>
      <comp>0.711</comp>
    </nuclide>
  </recipe>

</simulation>
